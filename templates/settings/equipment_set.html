{% extends "layout.html" %} {% block title %} Equipment Settings {% endblock %}
{% block content %}
<!-- Header -->
{% include 'partials/header.html' %}

<div class="equ-set-container">
  <!-- Sol Sidebar -->
  <div class="equ-set-sidebar">
    <button class="equ-set-btn active" data-target="modbus-settings">
      Modbus Settings
    </button>
    <button class="equ-set-btn" data-target="tcp-settings" disabled>
      TCP/IP Settings
    </button>
    <button class="equ-set-btn" data-target="obis-settings" disabled>
      Obis Settings
    </button>
    <button class="equ-set-btn" data-target="equipment-settings">
      Equipment Settings
    </button>
  </div>

  <!-- Sağ İçerik Alanı -->
  <div class="equ-set-content">
    <!-- Modbus Settings -->
    <div id="modbus-settings" class="modbus-setting-form">
      <div class="modbus-setting-row">
        <div class="modbus-setting-group">
          <label>Port</label>
          <select id="portSelect">
            <option value="/dev/ttyUSB0" selected>/dev/ttyUSB0</option>
            <!-- Default -->
            <option value="/dev/ttyUSB1">/dev/ttyUSB1</option>
            <option value="/dev/ttyS0">/dev/ttyS0</option>
            <option value="/dev/ttyS1">/dev/ttyS1</option>
          </select>
        </div>
        <div class="modbus-setting-group">
          <label>Baud Rate</label>
          <select id="baudRateSelect">
            <option value="9600">9600</option>
            <option value="19200" selected>19200</option>
            <!-- Default -->
            <option value="38400">38400</option>
            <option value="57600">57600</option>
            <option value="115200">115200</option>
          </select>
        </div>
      </div>
      <div class="modbus-setting-row">
        <div class="modbus-setting-group">
          <label>Parity</label>
          <select id="paritySelect">
            <option value="None" selected>None</option>
            <!-- Default -->
            <option value="Even">Even</option>
            <option value="Odd">Odd</option>
            <option value="Mark">Mark</option>
            <option value="Space">Space</option>
          </select>
        </div>
        <div class="modbus-setting-group">
          <label>Stop Bits</label>
          <select id="stopBitsSelect">
            <option value="1" selected>1</option>
            <!-- Default -->
            <option value="2">2</option>
          </select>
        </div>
      </div>
      <div class="modbus-setting-row">
        <div class="modbus-setting-group">
          <label>ByteSize</label>
          <select id="byteSizeSelect">
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8" selected>8</option>
            <!-- Default -->
          </select>
        </div>
        <div class="modbus-setting-group">
          <label>Timeout (Seconds)</label>
          <select id="timeoutSelect">
            <option value="0.5">0.5</option>
            <option value="1" selected>1</option>
            <!-- Default -->
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="5">5</option>
          </select>
        </div>
      </div>

      <button class="modbus-setting-btn-test">Test</button>

      <!-- Test Results -->
      <p class="modbus-setting-success">Modbus connection successful</p>
      <p class="modbus-setting-failed">Modbus connection failed</p>
    </div>

    <!-- TCP/IP Settings -->
    <div id="tcp-settings" class="tcp-setting-form" style="display: none">
      <h3>TCP/IP Settings</h3>
    </div>

    <!-- Obis Settings -->
    <div id="obis-settings" class="obis-setting-form" style="display: none">
      <h3>Obis Settings</h3>
    </div>

    <!-- Equipment Settings -->
    <div
      id="equipment-settings"
      class="equip-setting-form"
      style="display: none"
    >
      <div class="equip-setting-card">
        <div class="equip-setting-group">
          <label>Equipment Name</label>
          <input type="text" placeholder="Equipment Name" />
        </div>

        <div class="equip-setting-group">
          <label>Multiplier Values</label>
          <div class="equip-setting-select">
            <select>
              <option value="">Select</option>
              <option value="1">1x</option>
              <option value="2">2x</option>
              <option value="3">3x</option>
            </select>
            <span class="equip-setting-arrow">&#9662;</span>
            <!-- Aşağı bakan ok -->
          </div>
        </div>

        <div class="equip-setting-group">
          <label>Gmt</label>
          <div class="equip-setting-select">
            <select>
              <option value="">Select</option>
              <option value="gmt-3">GMT -3</option>
              <option value="gmt+0">GMT +0</option>
              <option value="gmt+3">GMT +3</option>
            </select>
            <span class="equip-setting-arrow">&#9662;</span>
          </div>
        </div>

        <div class="equip-setting-group">
          <label>Daylight Saving Time</label>
          <div class="equip-setting-select">
            <select>
              <option value="">Select</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
            <span class="equip-setting-arrow">&#9662;</span>
          </div>
        </div>

        <button class="equip-setting-save-btn">Save</button>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".equ-set-btn");
    const sections = document.querySelectorAll(
      ".modbus-setting-form, .tcp-setting-form, .obis-setting-form, .equip-setting-form"
    );

    buttons.forEach((button) => {
      button.addEventListener("click", function () {
        const targetId = this.getAttribute("data-target");
        buttons.forEach((btn) => btn.classList.remove("active"));
        sections.forEach((section) => {
          section.style.display = "none";
        });
        this.classList.add("active");
        document.getElementById(targetId).style.display = "block";
      });
    });
    buttons[0].click();
  });
</script>
{% endblock %}
